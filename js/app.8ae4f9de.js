(function(t){function e(e){for(var r,s,o=e[0],l=e[1],i=e[2],d=0,b=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(b.length)b.shift()();return n.push.apply(n,i||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==c[l]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},c={app:0},n=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var i=0;i<o.length;i++)e(o[i]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"2f69":function(t,e,a){},b36a:function(t,e,a){"use strict";a("2f69")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("7a23");function c(t,e,a,c,n,s){var o=Object(r["y"])("Nav"),l=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["d"])(r["a"],null,[Object(r["h"])(o),Object(r["h"])(l)],64)}var n={class:"navbar navbar-expand-md navbar-dark bg-dark"},s={class:"navbar-nav mr-auto"},o={key:0,class:"nav-item"},l=Object(r["g"])("Home"),i={class:"nav-item"},u={key:0,class:"nav-item"},d=Object(r["g"])("Profile"),b={class:"navbar-nav my-2 my-lg-0"},m={key:0,class:"nav-item"},h=Object(r["g"])("Logout"),O={key:1,class:"nav-item"},j=Object(r["g"])("Login");function f(t,e,a,c,f,p){var v=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["d"])("nav",n,[Object(r["h"])("ul",s,[c.auth?(Object(r["r"])(),Object(r["d"])("li",o,[Object(r["h"])(v,{to:"/",class:"nav-link"},{default:Object(r["E"])((function(){return[l]})),_:1})])):Object(r["e"])("",!0),Object(r["h"])("li",i,[c.auth?(Object(r["r"])(),Object(r["d"])("li",u,[Object(r["h"])(v,{to:"/profile",class:"nav-link"},{default:Object(r["E"])((function(){return[d]})),_:1})])):Object(r["e"])("",!0)])]),Object(r["h"])("ul",b,[c.auth?(Object(r["r"])(),Object(r["d"])("li",m,[Object(r["h"])(v,{to:"#",class:"nav-link",onClick:c.logout},{default:Object(r["E"])((function(){return[h]})),_:1},8,["onClick"])])):Object(r["e"])("",!0),c.auth?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["d"])("li",O,[Object(r["h"])(v,{to:"/login",class:"nav-link"},{default:Object(r["E"])((function(){return[j]})),_:1})]))])])}var p=a("1da1"),v=(a("96cf"),a("5502")),g=a("bc3a"),y=a.n(g),w=a("6c02"),x={name:"Nav",setup:function(){var t=Object(w["c"])(),e=Object(v["b"])(),a=Object(r["b"])((function(){return e.state.auth})),c=Object(r["b"])((function(){return e.state.userId})),n=function(){var a=Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,y.a.post("logout",{});case 2:return a.next=4,e.dispatch("setAuth",!1);case 4:return a.next=6,t.push("/login");case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(r["p"])(Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("authenticatedUser").then((function(t){e.dispatch("setAuth",!0),e.dispatch("setUserId",t.data.authUserId)})).catch((function(t){t.response?e.dispatch("setAuth",!1):console.log(t)}));case 2:case"end":return t.stop()}}),t)})))),{auth:a,logout:n,userId:c}}};x.render=f;var k=x,N={components:{Nav:k}};a("b36a");N.render=c;var A=N,U={key:0},_={class:"card-body"},F={id:"transactionsView",class:"container"},P={class:"form-group row"},I={class:"col-md-6"},C=Object(r["h"])("h5",{class:"text-center font-weight-bold"},"Add Amount",-1),D={class:"card bg-dark text-white"},E=Object(r["h"])("div",{class:"card-header"},"Amount accepts transactions of 1 to 5000",-1),T={class:"card-body"},R={key:0},L={class:"form-group row"},S=Object(r["h"])("label",{for:"name",class:"col-md-4 col-form-label text-md-right"},"Amount",-1),q={class:"col-md-6"},M={class:"form-group row mb-0"},V={class:"col-md-6 offset-md-4"},G={class:"col-md-6 "},H=Object(r["h"])("h5",{class:"text-center font-weight-bold"},"Latest Transactions",-1),$={class:"table table-borered"},J=Object(r["h"])("thead",null,[Object(r["h"])("tr",null,[Object(r["h"])("th",{scope:"col"},"Amount"),Object(r["h"])("th",{scope:"col"},"Date")])],-1),X={key:1},Y=Object(r["f"])('<div id="card" class="container"><div class="card bg-danger text-white text-center"><div class="card-header"> Error Message </div><div class="card-body"><h5 class="card-title">You are not logged in</h5></div></div></div>',1);function W(t,e,a,c,n,s){return n.auth?(Object(r["r"])(),Object(r["d"])("div",U,[Object(r["h"])("div",{class:["card",[n.className]]},[Object(r["h"])("div",_,Object(r["A"])(n.message),1)],2),Object(r["h"])("div",F,[Object(r["h"])("div",P,[Object(r["h"])("div",I,[C,Object(r["h"])("div",D,[E,Object(r["h"])("div",T,[n.showForm?(Object(r["r"])(),Object(r["d"])("form",R,[Object(r["h"])("div",L,[S,Object(r["h"])("div",q,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.formData.amount=t}),id:"amount",type:"text",class:"form-control",name:"amount",required:"",autocomplete:"amount",autofocus:""},null,512),[[r["C"],n.formData.amount]])])]),Object(r["h"])("div",M,[Object(r["h"])("div",V,[Object(r["h"])("button",{onClick:e[2]||(e[2]=Object(r["G"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"])),type:"submit",class:"btn btn-primary",style:{background:"#42b983",border:"#42b983"}}," Add Transaction ")])])])):Object(r["e"])("",!0)])])]),Object(r["h"])("div",G,[H,Object(r["h"])("table",$,[J,Object(r["h"])("tbody",null,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(n.transactions,(function(t){return Object(r["r"])(),Object(r["d"])("tr",{key:t.id},[Object(r["h"])("td",null,Object(r["A"])(t.amount),1),Object(r["h"])("td",null,Object(r["A"])(t.created_at),1)])})),128))])])])])])])):(Object(r["r"])(),Object(r["d"])("div",X,[Y]))}a("99af");var z=a("2ef0"),B=a.n(z),K=Object(v["a"])({state:{auth:!1,userId:""},mutations:{setAuth:function(t,e){return t.auth=e},setUserId:function(t,e){return t.userId=e}},actions:{setAuth:function(t,e){var a=t.commit;return a("setAuth",e)},setUserId:function(t,e){var a=t.commit;return a("setUserId",e)}},modules:{}}),Q={data:function(){var t=Object(r["w"])("");return{isActive:!0,className:"card bg-light",auth:Object(r["b"])((function(){return K.state.auth})),formData:{amount:null},showForm:!0,transactions:[],message:t}},methods:{submit:function(){var t=this,e=new FormData;B.a.each(this.formData,(function(t,a){e.append(a,t)})),y.a.post("/addTransaction",e).then((function(e){t.transactions=e.data.transactions["data"],t.className="card bg-success text-white",t.message=e.data.message})).catch((function(e){e.response?(t.message=e.response.data.errors["amount"][0],t.className="card bg-danger text-white",console.log(e.message)):console.log(e)}))},showTransactions:function(){var t=this;y.a.get("getUserTransactions").then((function(e){t.transactions=e.data.transactions["data"],t.message="Logged in as : ".concat(e.data.user.first_name,"   ").concat(e.data.user.last_name)}))}},mounted:function(){this.showTransactions()}};Q.render=W;var Z=Q,tt=Object(r["H"])("data-v-64723208");Object(r["u"])("data-v-64723208");var et={class:"text-center"},at={class:"container"},rt=Object(r["h"])("img",{class:"mb-4",src:"https://brokersnest.com/wp-content/uploads/2019/11/ticmill-forex-review-png-300x280.png",alt:"",width:"72",height:"72"},null,-1),ct={class:"h3 mb-3 font-weight-normal"},nt=Object(r["h"])("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),st=Object(r["h"])("label",{for:"inputPassword",class:"sr-only"},"Password",-1),ot=Object(r["h"])("div",{class:"checkbox mb-3"},null,-1),lt=Object(r["h"])("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"Submit",-1);Object(r["s"])();var it=tt((function(t,e,a,c,n,s){return Object(r["r"])(),Object(r["d"])("body",et,[Object(r["h"])("div",at,[Object(r["h"])("form",{class:"form-signin",onSubmit:e[3]||(e[3]=Object(r["G"])((function(){return c.submit&&c.submit.apply(c,arguments)}),["prevent"]))},[rt,Object(r["h"])("h1",ct,Object(r["A"])(c.message),1),nt,Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.email=t}),id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:""},null,512),[[r["C"],c.email]]),st,Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return c.password=t}),id:"inputPassword",class:"form-control",placeholder:"Password",required:""},null,512),[[r["C"],c.password]]),ot,lt],32)])])})),ut={name:"Login",setup:function(){var t=Object(r["w"])("Sign in"),e=Object(r["w"])(""),a=Object(r["w"])(""),c=Object(w["c"])(),n=function(){var r=Object(p["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,y.a.post("login",{email:e.value,password:a.value}).then((function(t){K.dispatch("setAuth",!0),c.push("/")})).catch((function(e){e.response?t.value="".concat(e.response.data.message):console.log(e)}));case 2:n=r.sent,n.data;case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{email:e,password:a,submit:n,message:t}}};ut.render=it,ut.__scopeId="data-v-64723208";var dt=ut,bt=(a("b0c0"),{key:0}),mt={id:"profile"},ht={key:0},Ot={class:"container"},jt={class:"row justify-content"},ft={class:"col-md-6"},pt={class:"card"},vt=Object(r["h"])("div",{class:"card-header"},"User Profile Card",-1),gt={class:"card-body"},yt={class:"cardText"},wt={class:"cardText"},xt={class:"cardText"},kt={class:"cardText"},Nt={class:"col-md-6"},At={class:"card"},Ut=Object(r["h"])("div",{class:"card-header"},"Edit Profile Card",-1),_t={class:"card-body "},Ft={key:0},Pt={class:"form-group row"},It=Object(r["h"])("label",{for:"name",class:"col-md-3 col-form-label text-md-right"},"Name:",-1),Ct={class:"col-md-8"},Dt={class:"form-group row"},Et=Object(r["h"])("label",{for:"lastName",class:"col-md-3 col-form-label text-md-right"},"LastName:",-1),Tt={class:"col-md-8"},Rt={class:"form-group row"},Lt=Object(r["h"])("label",{for:"email",class:"col-md-3 col-form-label text-md-right"},"Email:",-1),St={class:"col-md-8"},qt={class:"form-group row"},Mt=Object(r["h"])("label",{class:"col-md-3 col-form-label text-md-right"},"Avatar:",-1),Vt={class:"col-md-9"},Gt={class:"custom-file"},Ht={class:"custom-file-label text-left",for:"customFile"},$t={class:"form-group row mb-0"},Jt={class:"col-md-12"},Xt={key:1},Yt=Object(r["f"])('<div id="card" class="container"><div class="card bg-danger text-white text-center"><div class="card-header"> Error Message </div><div class="card-body"><h5 class="card-title">You are not logged in</h5></div></div></div>',1);function Wt(t,e,a,c,n,s){return Object(r["r"])(),Object(r["d"])(r["a"],null,[n.errors?(Object(r["r"])(),Object(r["d"])("div",bt,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(n.errors,(function(t){return Object(r["r"])(),Object(r["d"])("div",{key:t,class:"alert alert-danger"},Object(r["A"])(t),1)})),128))])):Object(r["e"])("",!0),Object(r["h"])("div",mt,[n.auth?(Object(r["r"])(),Object(r["d"])("div",ht,[Object(r["h"])("div",Ot,[Object(r["h"])("h5",null,Object(r["A"])(n.message),1),Object(r["h"])("div",jt,[Object(r["h"])("div",ft,[Object(r["h"])("div",pt,[vt,Object(r["h"])("img",{class:"avatar",src:n.avatarImageUrl,alt:"avatar"},null,8,["src"]),Object(r["h"])("div",gt,[Object(r["h"])("p",yt," First Name : "+Object(r["A"])(t.userName),1),Object(r["h"])("p",wt," Last Name : "+Object(r["A"])(n.lastName),1),Object(r["h"])("p",xt," Email : "+Object(r["A"])(n.email),1),Object(r["h"])("p",kt," Role : "+Object(r["A"])(t.role),1)])])]),Object(r["h"])("div",Nt,[Object(r["h"])("div",At,[Ut,Object(r["h"])("div",_t,[n.showForm?(Object(r["r"])(),Object(r["d"])("form",Ft,[Object(r["h"])("div",Pt,[It,Object(r["h"])("div",Ct,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.formData.name=t}),id:"name",type:"text",class:"form-control",name:"name",required:"",autocomplete:"name",autofocus:""},null,512),[[r["C"],n.formData.name]])])]),Object(r["h"])("div",Dt,[Et,Object(r["h"])("div",Tt,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return n.formData.lastName=t}),id:"lastName",type:"text",class:"form-control",name:"lastName",required:"",autocomplete:"lastName"},null,512),[[r["C"],n.formData.lastName]])])]),Object(r["h"])("div",Rt,[Lt,Object(r["h"])("div",St,[Object(r["F"])(Object(r["h"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return n.formData.email=t}),id:"email",type:"email",class:"form-control",name:"email",required:"",autocomplete:"email"},null,512),[[r["C"],n.formData.email]])])]),Object(r["h"])("div",qt,[Mt,Object(r["h"])("div",Vt,[Object(r["h"])("div",Gt,[Object(r["h"])("input",{type:"file",class:"custom-file-input",id:"customFile",ref:"photo",onChange:e[4]||(e[4]=function(t){return s.handleFileObject()})},null,544),Object(r["h"])("label",Ht,Object(r["A"])(n.avatarName),1)])])]),Object(r["h"])("div",$t,[Object(r["h"])("div",Jt,[Object(r["h"])("button",{onClick:e[5]||(e[5]=Object(r["G"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"])),type:"submit",class:"btn btn-primary",style:{background:"#42b983",border:"#42b983"}}," Update ")])])])):Object(r["e"])("",!0)])])])])])])):(Object(r["r"])(),Object(r["d"])("div",Xt,[Yt]))])],64)}a("d3b7"),a("25f0");var zt={data:function(){return{formData:{},auth:Object(r["b"])((function(){return K.state.auth})),authenticatedUserId:Object(r["b"])((function(){return K.state.userId})),show:!1,avatarImageUrl:"",avatar:null,avatarName:null,showForm:!0,user:null,message:" ",name:null,lastName:null,email:null,errors:null}},mounted:function(){var t=this;y.a.get("/getUserProfile").then((function(e){t.avatarImageUrl=e.data.avatar_url,t.userName=e.data.name,t.lastName=e.data.lastName,t.email=e.data.email,t.role=e.data.role}))},methods:{submit:function(){var t=this;if(this.errors=null,this.$refs.photo){var e=new FormData;e.append("avatar",this.avatar),B.a.each(this.formData,(function(t,a){e.append(a,t)})),y.a.post("/updateUserProfile",e,{headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)}}).then((function(e){t.avatarImageUrl=e.data.avatar_url,t.userName=e.data.name,t.lastName=e.data.lastName,t.email=e.data.email,t.message=e.data.message,t.showUploadProgress=!1,t.processingUpload=!1,t.$emit("imageUrl",e.data.secure_url)})).catch((function(e){t.errors=[],B.a.each(e.response.data.errors,(function(e){B.a.each(e,(function(e){t.errors.push(e)}))}))}))}},handleFileObject:function(){this.message="",this.avatar=this.$refs.photo.files[0],this.avatarName=this.avatar.name}}};zt.render=Wt;var Bt=zt,Kt=[{path:"/",component:Z},{path:"/login",component:dt},{path:"/profile",component:Bt}],Qt=Object(w["a"])({history:Object(w["b"])("/"),routes:Kt}),Zt=Qt;y.a.defaults.baseURL="http://localhost/crm-app/public/api/",y.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",y.a.defaults.withCredentials=!0,Object(r["c"])(A).use(K).use(Zt).mount("#app")}});
//# sourceMappingURL=app.8ae4f9de.js.map